/*!!
 * VtexUtils.js v1.11.0
 * https://github.com/zeindelf/vtex-utils
 *
 * Copyright (c) 2017-2018 Zeindelf
 * Released under the MIT license
 *
 * Date: 2018-06-06T19:35:28.981Z
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.VTEX=e.VTEX||{},e.VTEX.VtexUtils=t())}(this,function(){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e,t=new(function(e,t){
/*!!
	 * Utilify.js v0.5.1
	 * https://github.com/zeindelf/utilify-js
	 *
	 * Copyright (c) 2017-2018 Zeindelf
	 * Released under the MIT license
	 *
	 * Date: 2018-06-01T04:58:23.813Z
	 */
e.exports=function(){var u,s,t,i,c,a,o,e,n,l,f,g,r,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},h=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),v=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},m={version:"2.7.0",areas:{},apis:{},inherit:function(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t},stringify:function(e){return void 0===e||"function"==typeof e?e+"":JSON.stringify(e)},parse:function(t){try{return JSON.parse(t)}catch(e){return t}},fn:function(e,t){for(var r in m.storeAPI[e]=t,m.apis)m.apis[r][e]=t},get:function(e,t){return e.getItem(t)},set:function(e,t,r){e.setItem(t,r)},remove:function(e,t){e.removeItem(t)},key:function(e,t){return e.key(t)},length:function(e){return e.length},clear:function(e){e.clear()},Store:function(e,t,r){var n=m.inherit(m.storeAPI,function(e,t,r){return 0===arguments.length?n.getAll():"function"==typeof t?n.transact(e,t,r):void 0!==t?n.set(e,t,r):"string"==typeof e||"number"==typeof e?n.get(e):e?n.setAll(e,t):n.clear()});n._id=e;try{var i="_safariPrivate_";t.setItem(i,"sucks"),(n._area=t).removeItem(i)}catch(e){}return n._area||(n._area=m.inherit(m.storageAPI,{items:{},name:"fake"})),n._ns=r||"",m.areas[e]||(m.areas[e]=n._area),m.apis[n._ns+n._id]||(m.apis[n._ns+n._id]=n),n},storeAPI:{area:function(e,t){var r=this[e];return r&&r.area||(r=m.Store(e,t,this._ns),this[e]||(this[e]=r)),r},namespace:function(e,t){if(!e)return this._ns?this._ns.substring(0,this._ns.length-1):"";var r=e,n=this[r];return n&&n.namespace||(n=m.Store(this._id,this._area,this._ns+r+"."),this[r]||(this[r]=n),t||n.area("session",m.areas.session)),n},isFake:function(){return"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(e){return this._area.has?this._area.has(this._in(e)):!!(this._in(e)in this._area)},size:function(){return this.keys().length},each:function(e,t){for(var r=0,n=m.length(this._area);r<n;r++){var i=this._out(m.key(this._area,r));if(void 0!==i&&!1===e.call(this,i,t||this.get(i)))break;n>m.length(this._area)&&(n--,r--)}return t||this},keys:function(e){return this.each(function(e,t){t.push(e)},e||[])},get:function(e,t){var r=m.get(this._area,this._in(e));return null!==r?m.parse(r):t||r},getAll:function(e){return this.each(function(e,t){t[e]=this.get(e)},e||{})},transact:function(e,t,r){var n=this.get(e,r),i=t(n);return this.set(e,void 0===i?n:i),this},set:function(e,t,r){var n=this.get(e);return null!=n&&!1===r?t:m.set(this._area,this._in(e),m.stringify(t),r)||n},setAll:function(e,t){var r,n;for(var i in e)n=e[i],this.set(i,n,t)!==n&&(r=!0);return r},add:function(e,t){var r=this.get(e);if(r instanceof Array)t=r.concat(t);else if(null!==r){var n=void 0===r?"undefined":p(r);if(n===(void 0===t?"undefined":p(t))&&"object"===n){for(var i in t)r[i]=t[i];t=r}else t=r+t}return m.set(this._area,this._in(e),m.stringify(t)),t},remove:function(e){var t=this.get(e);return m.remove(this._area,this._in(e)),t},clear:function(){return this._ns?this.each(function(e){m.remove(this._area,this._in(e))},1):m.clear(this._area),this},clearAll:function(){var e=this._area;for(var t in m.areas)m.areas.hasOwnProperty(t)&&(this._area=m.areas[t],this.clear());return this._area=e,this},_in:function(e){return"string"!=typeof e&&(e=m.stringify(e)),this._ns?this._ns+e:e},_out:function(e){return this._ns?e&&0===e.indexOf(this._ns)?e.substring(this._ns.length):void 0:e}},storageAPI:{length:0,has:function(e){return this.items.hasOwnProperty(e)},key:function(e){var t=0;for(var r in this.items)if(this.has(r)&&e===t++)return r},setItem:function(e,t){this.has(e)||this.length++,this.items[e]=t},removeItem:function(e){this.has(e)&&(delete this.items[e],this.length--)},getItem:function(e){return this.has(e)?this.items[e]:null},clear:function(){for(var e in this.items)this.removeItem(e)},toString:function(){return this.length+" items in "+this.name+"Storage"}}},y=m.Store("local",function(){try{return localStorage}catch(e){}}());(y.local=y)._=m,y.area("session",function(){try{return sessionStorage}catch(e){}}()),o=(a=y)._,e=o.set,n=o.get,l=o.remove,f=o.key,g=o.length,r=o.clear,o.overflow=function(e,t){var r=e===o.areas.local?"+local+":e===o.areas.session&&"+session+";if(r){var n=o.areas[r];return t&&!n?n=a.area(r)._area:!1===t&&(delete o.areas[r],delete a[r]),n}},o.set=function(t,r,n){try{e.apply(this,arguments)}catch(e){if("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||-1!==e.toString().indexOf("QUOTA_EXCEEDED_ERR")||-1!==e.toString().indexOf("QuotaExceededError"))return o.set(o.overflow(t,!0),r,n);throw e}},o.get=function(e,t){var r=o.overflow(e);return r&&n.call(this,r,t)||n.apply(this,arguments)},o.remove=function(e,t){var r=o.overflow(e);r&&l.call(this,r,t),l.apply(this,arguments)},o.key=function(e,t){var r=o.overflow(e);if(r){var n=g.call(this,e);if(n<=t){t-=n;for(var i=0,a=g.call(this,r);i<a;i++)if(i===t)return f.call(this,r,i)}}return f.apply(this,arguments)},o.length=function(e){var t=g(e),r=o.overflow(e);return r?t+g(r):t},o.clear=function(e){o.overflow(e,!1),r.apply(this,arguments)},u=y._,s="exp@",t=u.parse,i=u.get,c=u.set,u.parse=function(e){return e&&0===e.indexOf(s)&&(e=e.substring(e.indexOf(";")+1)),t(e)},u.expires=function(e){return!(!e||0!==e.indexOf(s))&&parseInt(e.substring(s.length,e.indexOf(";")),10)},u.when=function(e){var t=Math.floor((new Date).getTime()/1e3);return e?new Date(1e3*(t+e)):t},u.cache=function(e,t){var r=i(e,t),n=u.expires(r);return n&&u.when()>=n?e.removeItem(t):r},u.get=function(e,t){var r=u.cache(e,t);return void 0===r?null:r},u.set=function(t,r,e,n){try{n&&(e=s+(u.when()+n)+";"+e),c(t,r,e)}catch(e){if("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name){for(var i=!1,a=0,o=t.length;a<o;a++)void 0===u.cache(t,r)&&(i=!0);if(i)return u.set.apply(this,arguments)}throw e}};var b,S={capitalize:function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},escape:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")},normalizeText:function(e){var t,r=this,n=/(^|[.!?]\s+)([a-z])/g;return t=e,r.strCompact(t.replace(/[,.!?:;]+(?=\S)/g,"$& ")).toLowerCase().replace(n,function(e,t,r){return t+r.toUpperCase()})},pad:function(e,t){for(var r=String(e);r.length<(t||2);)r="0"+r;return r},removeAccent:function(e){var t=/[àáâãäçèéêëìíîïñòóôõöùúûüýÿÀÁÂÃÄÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝ]/g;return e.replace(t,function(e){return"_aaaaaceeeeiiiinooooouuuuyyAAAAACEEEEIIIINOOOOOUUUUY"[t.source.indexOf(e)]})},slugifyText:function(e){e=e.replace(/^\s+|\s+$/g,"").toLowerCase().replace(/\./g,"-").replace(/\*/g,"-").replace(/\+/g,"-");for(var t="àáäâãèéëêìíïîòóöôõùúüûýÿñç·/_,:;",r=0,n=t.length;r<n;r+=1)e=e.replace(new RegExp(t.charAt(r),"g"),"aaaaaeeeeiiiiooooouuuuyync------".charAt(r));return"-"===(e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")).charAt(0)&&(e=e.substr(1)),"-"===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e},strCompact:function(e){return this.trim(e).replace(/([\r\n\s])+/g,function(e,t){return"　"===t?t:" "})},strReplace:function(e,t,r){var n=void 0;if(A.isArray(e))for(var i=0;i<e.length;i++)e[i]=e[i].replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n=new RegExp(e[i],"g"),r=r.replace(n,A.isArray(t)?t[i]:t);else e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n=new RegExp(e,"g"),r=r.replace(n,A.isArray(t)?t[0]:t);return r},trim:function(e){return A.isString(e)?e.replace(/^\s+|\s+$/gm,""):""},ucfirst:function(e){var t=(e+="").charAt(0).toUpperCase();return t+e.substr(1)},underscore:function(e){return e.replace(/[-\s]+/g,"_").replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},unescape:function(e){return e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`")}},k={camelize:function(n){var i=this,a=function(e){return e=S.underscore(e),(e=S.slugifyText(e)).replace(/[_.-\s](\w|$)/g,function(e,t){return t.toUpperCase()})};return A.isDate(n)||A.isRegExp(n)?n:A.isArray(n)?n.map(function(e,t){return A.isObject(e)?i.camelize(e):e}):A.isString(n)?a(n):Object.keys(n).reduce(function(e,t){var r=a(t);return e[r]=n[t],A.isObject(n[t])&&(e[r]=i.camelize(n[t])),e},{})},contains:function(e,t){if(A.isArray(t))for(var r=0,n=t.length;r<n;r+=1)if(t[r]===e)return!0;return!!A.isString(t)&&0<=t.indexOf(e)},debounce:function(n,o,e){var u=void 0,s=void 0,i=void 0,c=void 0,l=void 0,f=void 0,g=0,p=!1,d=!1,t=!0,r=!o&&0!==o&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof n)throw new TypeError("Expected a function");function h(e){var t=u,r=s;return u=s=void 0,g=e,c=n.apply(r,t)}function v(e,t){return r?window.requestAnimationFrame(e):setTimeout(e,t)}function m(e){var t=e-f,r=e-g;return void 0===f||o<=t||t<0||d&&i<=r}function y(){var e,t,r,n=Date.now();if(m(n))return a(n);l=v(y,(t=(e=n)-g,r=o-(e-f),d?Math.min(r,i-t):r))}function a(e){return l=void 0,t&&u?h(e):(u=s=void 0,c)}function b(){for(var e,t=Date.now(),r=m(t),n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];if(u=i,s=this,f=t,r){if(void 0===l)return g=e=f,l=v(y,o),p?h(e):c;if(d)return l=v(y,o),h(f)}return void 0===l&&(l=v(y,o)),c}return o=+o||0,A.isObject(e)&&(p=!!e.leading,i=(d="maxWait"in e)?Math.max(+e.maxWait||0,o):i,t="trailing"in e?!!e.trailing:t),b.cancel=function(){void 0!==l&&function(e){if(r)return window.cancelAnimationFrame(e);clearTimeout(e)}(l),u=f=s=l=void(g=0)},b.flush=function(){return void 0===l?c:a(Date.now())},b.pending=function(){return void 0!==l},b},getType:function(e){var t={undefined:"undefined",number:"number",boolean:"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"};return t[void 0===e?"undefined":p(e)]||t[{}.toString.call(e)]||(e?"object":"null")},getUrlParameter:function(e,t){t=A.isString(t)?"?"===t.substring(0,1)?t:"?"+t:window.location.href,e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=r.exec(t);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},resizeImageByRatio:function(e,t,r,n){A.isNumber(t)&&A.isNumber(r)||(t=parseFloat(t,10),r=parseFloat(r,10));var i={};switch(n=n||4,e){case"width":i.width=parseFloat(t,10),i.height=parseFloat((t/r).toFixed(n),10);break;case"height":i.width=parseFloat((t*r).toFixed(n),10),i.height=parseFloat(t,10);break;default:throw new Error("'type' needs to be 'width' or 'height'")}return i},stripHost:function(e){var t=e;return t.toString().replace(/https?:\/\/.*?\//i,"/")},stripHttp:function(e){var t=e;return t.replace(/^https?:/,"")},throttle:function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return A.isObject(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),this.debounce(e,t,{leading:n,maxWait:t,trailing:i})},times:function(e,t){var r=4294967295;if(e<1||9007199254740991<e)return[];for(var n=-1,i=Math.min(e,r),a=new Array(i);++n<i;)a[n]=t(n);for(e-=n=r;++n<e;)t(n);return a},unserialize:function(e){if((e=A.isString(e)?e:window.location.href).indexOf("?")<0)return{};e=0===e.indexOf("?")?e.substr(1):e.slice(e.indexOf("?")+1);for(var t={},r=e.split("&"),n=0,i=r.length;n<i;n+=1){var a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]||"")}return t}},w=Object.prototype.toString,A={isArguments:function(e){return"[object Arguments]"===w.call(e)||null!=e&&"object"===(void 0===e?"undefined":p(e))&&"callee"in e},isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===w.call(e)},isArrayIndex:function(e){return e>>>0===e&&4294967295!==e},isBoolean:function(e){return!0===e||!1===e||"[object Boolean]"===w.call(e)},isChar:function(e){return this.isString(e)&&1===e.length},isDate:function(e){return"[object Date]"===w.call(e)},isDomNode:function(e){return this.isObject(e)&&0<e.nodeType},isEmail:function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},isEmpty:function(e){var t={undefined:!0,null:!0,number:!1,boolean:!1,function:!1,regexp:!1,date:!1,error:!1},r=k.getType(e),n=void 0;if(t.hasOwnProperty(r))n=t[r];else switch(r){case"object":n=this.isObjectEmpty(e);break;case"string":n=!e;break;case"array":n=!e.length}return n},isError:function(e){return"[object Error]"===w.call(e)},isFunction:function(e){return"[object Function]"===w.call(e)||"function"==typeof e},isJson:function(e){try{var t=JSON.parse(e);return this.isObject(t)}catch(e){}return!1},isNull:function(e){return null===e},isNumber:function(e){var t=Number.isNaN||window.isNaN;return"number"==typeof e&&!t(e)},isObject:function(e){return"object"===(void 0===e?"undefined":p(e))&&null!==e},isObjectEmpty:function(e){if(!this.isObject(e))return!1;for(var t in e)if({}.hasOwnProperty.call(e,t))return!1;return!0},isPercentage:function(e){return this.isNumber(e)&&e<=100&&0<=e},isPlainObject:function(e){if(!this.isObject(e))return!1;try{var t=e.constructor,r=t.prototype;return t&&r&&hasOwnProperty.call(r,"isPrototypeOf")}catch(e){return!1}},isPrimitive:function(e,t){return t=t||(void 0===e?"undefined":p(e)),null==e||"string"===t||"number"===t||"boolean"===t},isRealNaN:function(e){return null!=e&&e!=e},isRegExp:function(e){return"[object RegExp]"===w.call(e)},isSameType:function(e,t){var r=w.call(e);return r===w.call(t)},isString:function(e){return"[object String]"===w.call(e)},isUndefined:function(e){return void 0===e}},P={arrayClone:function(e){var r=new Array(e.length);return this._forEach(e,function(e,t){r[t]=e}),r},arrayCompact:function(e){if(!Array.isArray(e))throw new TypeError("arrayCompact() expects an array.");return e.filter(Boolean)},arrayFlatten:function(e,t){var r=this,n=[];return t=t||1/0,r._forEach(e,function(e){A.isArray(e)&&0<t?n=n.concat(r.arrayFlatten(e,t,1)):n.push(e)}),n},arrayIntersection:function(e,t){return e.filter(function(e){return-1!==t.indexOf(e)})},arraySample:function(e,t,r){var n=[],i=void 0,a=void 0,o=void 0;A.isBoolean(t)?a=t:(i=t,a=r),A.isUndefined(i)&&(i=1,o=!0),a||(e=this.arrayClone(e)),i=Math.min(i,e.length);for(var u,s=0;s<i;s+=1)u=Math.trunc(Math.random()*e.length),n.push(e[u]),e.splice(u,1);return o?n[0]:n},arrayUnique:function(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})},chunk:function(e,t){t=Math.max(t,0);var r=null===e?0:e.length;if(!r||t<1)return[];for(var n=0,i=0,a=new Array(Math.ceil(r/t));n<r;)a[i++]=this.slice(e,n,n+=t);return a},cleanArray:function(e){for(var t=[],r=0,n=e.length;r<n;r+=1)e[r]&&t.push(e[r]);return t},implode:function(e,t){if(A.isArray(e))return e.join(t||",");if(A.isObject(e)){var r=[];for(var n in e)object.hasOwnProperty(n)&&r.push(e[n]);return r.join(t||",")}return""},shuffleArray:function(e){for(var t=0,r=[],n=[],i=e.length-1;0<i;i--)t=Math.floor(Math.random()*(i+1)),r=e[i],n[i]=e[t],n[t]=r;return n},slice:function(e,t,r){var n=null==e?0:e.length;if(!n)return[];(t=null==t?0:t)<0&&(t=n<-t?0:n+t),(r=n<(r=void 0===r?n:r)?n:r)<0&&(r+=n),n=r<t?0:r-t>>>0,t>>>=0;for(var i=-1,a=new Array(n);++i<n;)a[i]=e[i+t];return a},_getSparseArrayIndexes:function(e,i,t,r){var n=[],a=void 0;for(a in e)A.isArrayIndex(a)&&(t||(r?a<=i:i<=a))&&n.push(+a);return n.sort(function(e,t){var r=i<e,n=i<t;return r!==n?r?-1:1:e-t}),n},_iterateOverSparseArray:function(e,t,r,n){for(var i=this._getSparseArrayIndexes(e,r,n),a=void 0,o=0,u=i.length;o<u;o+=1)a=i[o],t.call(e,e[a],a,e);return e},_forEach:function(e,t){for(var r=0,n=e.length;r<n;r+=1){if(!(r in e))return this._iterateOverSparseArray(e,t,r);t(e[r],r)}}},O={formatNumber:function(e,t){return t=t||".",e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)},milify:function(e,t){var s=new Map;s.set(3,"K"),s.set(6,"M"),s.set(9,"B"),s.set(12,"T"),s.set(15,"P"),s.set(18,"E"),e=function(e){if("number"!=typeof e)throw new Error("Input value is not a number");return parseFloat(e,10)}(e);var r=Math.floor(Math.log10(Math.abs(e)))+1,n=function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=s.keys()[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var u=a.value;u<e&&(t=u)}}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}return{suffix:s.get(t),zeroes:t}}(r,null),i=e/Math.pow(10,n.zeroes);return t=i%1==0?2:Math.max(1,t+1)||3,-1e3<e&&e<1e3?e:""+parseFloat(i.toPrecision(t))+n.suffix},toNumber:function(e){var t=parseFloat(e);return void 0===t?e:t.toString().length!==e.toString().length?e:Number.isNaN(t)?e:t}},_={deepFreeze:function(t){var r=this;return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){!t.hasOwnProperty(e)||null===t[e]||"object"!==p(t[e])&&"function"!=typeof t[e]||Object.isFrozen(t[e])||r.deepFreeze(t[e])}),t},extend:function(r){for(var e=arguments.length,t=Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];if(A.isObject(r)&&0<t.length){if(Object.assign)return Object.assign.apply(Object,[r].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t)));t.forEach(function(t){A.isObject(t)&&Object.keys(t).forEach(function(e){r[e]=t[e]})})}return r},getDescendantProp:function(e,t){if(!A.isPlainObject(e))throw new TypeError("'obj' param must be an plain object");return t.split(".").reduce(function(e,t){return e&&e[t]},e)},length:function(e){return A.isUndefined(e.length)?A.isObject(e)?Object.keys(e).length:0:e.length},objectArraySortByValue:function(e,n,i){var a=this,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!A.isArray(n)||n.length<1){var r=function(e,t,r){return a.getDescendantProp(e,r).toString().localeCompare(a.getDescendantProp(t,r).toString(),void 0,{numeric:!0})};return e.slice().sort(function(e,t){return o?-r(e,t,i):r(e,t,i)})}return e.slice().sort(function(e,t){var r=n.indexOf(a.getDescendantProp(e,i).toString())-n.indexOf(a.getDescendantProp(t,i).toString());return o?-1*r:r})},objectSearch:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=void 0,i=void 0,a=void 0,o=void 0,u=function(e){return r?k.camelize(e).toLowerCase():e};for(n in t)t.hasOwnProperty(n)&&(a=t[i=n]);for(n in e)if(n===i){if(u(e[n])===u(a))return e}else if(e[n]instanceof Object&&e.hasOwnProperty(n)&&(o=this.objectSearch(e[n],t,r)))return o;return!1}},E=function(){function e(){d(this,e)}return h(e,[{key:"isArguments",value:function(e){return A.isArguments(e)}},{key:"isArray",value:function(e){return A.isArray(e)}},{key:"isArrayIndex",value:function(e){return A.isArrayIndex(e)}},{key:"isBoolean",value:function(e){return A.isBoolean(e)}},{key:"isChar",value:function(e){return A.isChar(e)}},{key:"isDate",value:function(e){return A.isDate(e)}},{key:"isDomNode",value:function(e){return A.isDomNode(e)}},{key:"isEmail",value:function(e){return A.isEmail(e)}},{key:"isEmpty",value:function(e){return A.isEmpty(e)}},{key:"isError",value:function(e){return A.isError(e)}},{key:"isFunction",value:function(e){return A.isFunction(e)}},{key:"isJson",value:function(e){return A.isJson(e)}},{key:"isNull",value:function(e){return A.isNull(e)}},{key:"isNumber",value:function(e){return A.isNumber(e)}},{key:"isObject",value:function(e){return A.isObject(e)}},{key:"isObjectEmpty",value:function(e){return A.isObjectEmpty(e)}},{key:"isPrimitive",value:function(e,t){return A.isPrimitive(e,t)}},{key:"isRealNaN",value:function(e){return A.isRealNaN(e)}},{key:"isPlainObject",value:function(e){return A.isPlainObject(e)}},{key:"isRegExp",value:function(e){return A.isRegExp(e)}},{key:"isSameType",value:function(e,t){return A.isSameType(e,t)}},{key:"isString",value:function(e){return A.isString(e)}},{key:"isUndefined",value:function(e){return A.isUndefined(e)}},{key:"arrayCompact",value:function(e){return P.arrayCompact(e)}},{key:"arrayFlatten",value:function(e,t){return P.arrayFlatten(e,t)}},{key:"arrayIntersection",value:function(e,t){return P.arrayIntersection(e,t)}},{key:"arraySample",value:function(e,t,r){return P.arraySample(e,t,r)}},{key:"arrayUnique",value:function(e){return P.arrayUnique(e)}},{key:"camelize",value:function(e){return k.camelize(e)}},{key:"capitalize",value:function(e){return S.capitalize(e)}},{key:"chunk",value:function(e,t){return P.chunk(e,t)}},{key:"cleanArray",value:function(e){return P.cleanArray(e)}},{key:"contains",value:function(e,t){return k.contains(e,t)}},{key:"debounce",value:function(e,t,r){return k.debounce(e,t,r)}},{key:"deepFreeze",value:function(e){return _.deepFreeze(e)}},{key:"escape",value:function(e){return S.escape(e)}},{key:"extend",value:function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return _.extend.apply(_,[e].concat(r))}},{key:"formatNumber",value:function(e,t){return O.formatNumber(e,t)}},{key:"getDescendantProp",value:function(e,t){return _.getDescendantProp(e,t)}},{key:"getType",value:function(e){return k.getType(e)}},{key:"getUrlParameter",value:function(e,t){return k.getUrlParameter(e,t)}},{key:"implode",value:function(e,t){return P.implode(e,t)}},{key:"length",value:function(e){return _.length(e)}},{key:"milify",value:function(e,t){return O.milify(e,t)}},{key:"normalizeText",value:function(e){return S.normalizeText(e)}},{key:"objectArraySortByValue",value:function(e,t,r,n){return _.objectArraySortByValue(e,t,r,n)}},{key:"objectSearch",value:function(e,t){return _.objectSearch(e,t)}},{key:"pad",value:function(e,t){return S.pad(e,t)}},{key:"removeAccent",value:function(e){return S.removeAccent(e)}},{key:"resizeImageByRatio",value:function(e,t,r,n){return k.resizeImageByRatio(e,t,r,n)}},{key:"shuffleArray",value:function(e){return P.shuffleArray(e)}},{key:"slice",value:function(e,t,r){return P.slice(e,t,r)}},{key:"slugifyText",value:function(e){return S.slugifyText(e)}},{key:"stripHost",value:function(e){return k.stripHost(e)}},{key:"stripHttp",value:function(e){return k.stripHttp(e)}},{key:"strCompact",value:function(e){return S.strCompact(e)}},{key:"strReplace",value:function(e,t,r){return S.strReplace(e,t,r)}},{key:"throttle",value:function(e,t,r){return k.throttle(e,t,r)}},{key:"times",value:function(e,t){return k.times(e,t)}},{key:"toNumber",value:function(e){return O.toNumber(e)}},{key:"trim",value:function(e){return S.trim(e)}},{key:"ucfirst",value:function(e){return S.ucfirst(e)}},{key:"underscore",value:function(e){return S.underscore(e)}},{key:"unescape",value:function(e){return S.unescape(e)}},{key:"unserialize",value:function(e){return k.unserialize(e)}}]),e}(),j={STORAGE_NAME:"__location",EXPIRE_TIME:14400},x={getUserLocation:function(l,f){var g=this;l&&this._initLocationStorage(f);var e=f.session.get(j.STORAGE_NAME);return $.Deferred(function(c){A.isObjectEmpty(e)?window.navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var u=e.coords.latitude,s=e.coords.longitude;if(!window.google)return c.reject("Google Maps Javascript API not found. Follow tutorial: https://developers.google.com/maps/documentation/javascript");var t=new google.maps.LatLng(u,s),r=new google.maps.Geocoder;r.geocode({latLng:t},function(e,t){if(t===google.maps.GeocoderStatus.OK)if(e[1]){for(var r=0,n=e.length;r<n;r+=1)if("locality"===e[r].types[0]){var i=e[r].address_components[0].short_name,a=e[r].address_components[2].short_name,o={coords:{lat:u,lng:s},city:i,state:a,region:g.filteredRegion(a)};l&&f.session.set(j.STORAGE_NAME,o,j.EXPIRE_TIME),c.resolve(o)}}else c.reject("No reverse geocode results.");else c.reject("Geocoder failed: "+t)})},function(e){c.reject("Geolocation not available.")}):c.reject("Geolocation isn't available"):c.resolve(e)}).promise()},filteredRegion:function(i){var e=this;this._validateStateInitials(i);var a="",t=function(n){({}).hasOwnProperty.call(e._regionMap,n)&&e._regionMap[n].some(function(e,t,r){S.removeAccent(e.toLowerCase())===S.removeAccent(i.toLowerCase())&&(a=n)})};for(var r in this._regionMap)t(r);return a},filteredState:function(e){return this._validateStateInitials(e),_.objectSearch(this._stateMap,{name:e},!0)},getStates:function(){return this._stateMap},getRegions:function(){return this._regionMap},_validateStateInitials:function(e){if(e.length<2)throw new Error("'state' must be two letters. e.g. 'SP' or full state name")},_stateMap:[{name:"Acre",initials:"AC",region:"Norte"},{name:"Alagoas",initials:"AL",region:"Nordeste"},{name:"Amapá",initials:"AP",region:"Norte"},{name:"Amazonas",initials:"AM",region:"Norte"},{name:"Bahia",initials:"BA",region:"Nordeste"},{name:"Ceará",initials:"CE",region:"Nordeste"},{name:"Distrito Federal",initials:"DF",region:"Centro Oeste"},{name:"Espírito Santo",initials:"ES",region:"Sudeste"},{name:"Goiás",initials:"GO",region:"Centro Oeste"},{name:"Maranhão",initials:"MA",region:"Nordeste"},{name:"Mato Grosso",initials:"MT",region:"Centro Oeste"},{name:"Mato Grosso do Sul",initials:"MS",region:"Centro Oeste"},{name:"Minas Gerais",initials:"MG",region:"Sudeste"},{name:"Pará",initials:"PA",region:"Norte"},{name:"Paraíba",initials:"PB",region:"Nordeste"},{name:"Paraná",initials:"PR",region:"Sul"},{name:"Pernambuco",initials:"PE",region:"Nordeste"},{name:"Piauí",initials:"PI",region:"Nordeste"},{name:"Rio de Janeiro",initials:"RJ",region:"Sudeste"},{name:"Rio Grande do Norte",initials:"RN",region:"Nordeste"},{name:"Rio Grande do Sul",initials:"RS",region:"Sul"},{name:"Rondônia",initials:"RO",region:"Norte"},{name:"Roraima",initials:"RR",region:"Norte"},{name:"Santa Catarina",initials:"SC",region:"Sul"},{name:"São Paulo",initials:"SP",region:"Sudeste"},{name:"Sergipe",initials:"SE",region:"Nordeste"},{name:"Tocantins",initials:"TO",region:"Norte"}],_regionMap:(b={},v(b,"Norte",["AC","AP","AM","PA","RO","RR","TO"]),v(b,"Nordeste",["AL","BA","CE","MA","PB","PE","PI","RN","SE"]),v(b,"Centro Oeste",["DF","GO","MT","MS"]),v(b,"Sudeste",["ES","MG","RJ","SP"]),v(b,"Sul",["PR","RS","SC"]),b),_initLocationStorage:function(e){A.isNull(e.session.get(j.STORAGE_NAME))&&e.session.set(j.STORAGE_NAME,{})}},I=function(){function t(e){d(this,t),this._storage=e}return h(t,[{key:"getUserLocation",value:function(e){return x.getUserLocation(e,this._storage)}},{key:"getStates",value:function(){return x.getStates()}},{key:"getRegions",value:function(){return x.getRegions()}},{key:"filteredState",value:function(e){return x.filteredState(e)}},{key:"filteredRegion",value:function(e){return x.filteredRegion(e)}}]),t}();return function e(){d(this,e),this.version="0.5.1",this.name="@UtilifyJS",this.globalHelpers=new E,this.locationHelpers=new I(y),this.storage=y}}()}(e={exports:{}},e.exports),e.exports),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=t.globalHelpers,a="You must set camelize your items to use this method",o={formatPrice:function(e,t,r,n,i){i=s.isString(i)?i:"R$ ";var a="\\d(?=(\\d{3})+"+(0<(n=s.isNumber(n)?n:2)?"\\D":"$")+")";return i+(e=(1*(e/=100)).toFixed(Math.max(0,~~n))).replace(".",r||",").replace(new RegExp(a,"g"),"$&"+(t||"."))},unformatPrice:function(e,t){var r=this,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(s.isArray(e))return e.map(function(e){return r.unformatPrice(e,t,n)});if(e=e||0,s.isNumber(e))return e;t=t||",";var i=new RegExp("[^0-9-"+t+"]",["g"]),a=parseFloat((""+e).replace(/\((?=\d+)(.*)\)/,"-$1").replace(i,"").replace(t,".")).toFixed(2).toString().split(".");return{unformatted:1*s.toNumber(a.join("")),real:n?s.formatNumber(a[0]):a[0],cents:a[1]||"00"}},fixProductSearchPrice:function(e){return 1*e.toFixed(2).split(".").join("")},getFirstAvailableSku:function(e){if(!this._checkCamelize(e))throw new Error(a);var n={};return e.hasOwnProperty("items")&&e.items.some(function(e,t,r){return 0<e.sellers[0].commertialOffer.availableQuantity&&(n=r[t],!0)}),e.hasOwnProperty("skus")&&e.skus.some(function(e,t,r){return!!e.available&&(n=r[t],!0)}),0<s.length(n)&&n},getOriginalImage:function(e){return s.isString(e)?e.replace(/(ids\/[0-9]+)-([0-9-]+)\//,"$1/"):e},getResizedImage:function(e,n,i){return s.isUndefined(n)||s.isUndefined(i)||!s.isString(e)?e:(n=Math.round(n),i=Math.round(i),(e=e.replace(/(?:ids\/[0-9]+)-([0-9]+)-([0-9]+)\//,function(e,t,r){return e.replace("-"+t+"-"+r,"-"+n+"-"+i)})).replace(/(ids\/[0-9]+)\//,"$1-"+n+"-"+i+"/"))},getResizeImageByRatio:function(e,t,r,n){var i=s.resizeImageByRatio(t,r,n);return this.getResizedImage(e,i.width,i.height)},getServerTime:function(a){return $.ajax({url:"/no-cache/HoraAtualServidor.aspx",type:"get"}).then(function(e){var t=e.match(/([0-9]+):([0-5][0-9]):([0-5][0-9])/)[0],r=parseInt(e.match(/[a-z]{3} ([0-9]{1,2})/)[1]),n=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"].indexOf(e.match(/[a-z]{3}/)[0])+1,i=parseInt(e.match(/[0-9]{4}/)[0]);r<10&&(r="0"+r),n<10&&(n="0"+n),s.isFunction(a)&&a.call(null,new Date(i+"/"+n+"/"+r+" "+t))})},getCategories:function(r,e){return $.Deferred(function(t){return $.ajax({type:"get",url:"/api/catalog_system/pub/category/tree/"+(e||50),dataType:"json",headers:{accept:"application/json",contentType:"application/json; charset=utf-8"}}).done(function(e){s.isUndefined(r)?t.resolve(e):t.resolve(s.objectSearch(e,{id:r}))}).fail(function(e){return t.reject(e)})}).promise()},getProductSpec:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(s.isUndefined(e[t]))return r;if(s.contains(t,e.allSpecifications)){var n=e[t]&&e[t][0];return s.isUndefined(n)?r:n}return r},getProductSellerInfo:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];window.console.log("SELLER_INFO_IN",e);var r,n,i,a=t||!0,o=t?"sellerId":"sellerDefault",u=this.getFirstAvailableSku(e);return!!u&&s.objectSearch(u,(i=a,(n=o)in(r={})?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r))},getProductInstallments:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!s.isPlainObject(e))throw new TypeError("'data' must be an plain object");return(e.hasOwnProperty("commertialOffer")?e.commertialOffer:this.getProductSellerInfo(e,t).commertialOffer).installments.reduce(function(e,t){return e.value<t.value?e:t},{})},getProductBankInvoice:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=this.getProductSellerInfo(e,t);return!!r&&s.objectSearch(r.commertialOffer.installments,{paymentSystemName:"Boleto Bancário"})},getProductPriceInfo:function(e){if(!e)return!1;var t=e.commertialOffer,r=this.getProductInstallments(e),n=t.availableQuantity,i=t.price===t.listPrice,a=this.fixProductSearchPrice,o=this.formatPrice;return{available:!!n,availableQuantity:n,sellerName:e.sellerName,sellerId:e.sellerId,bestPrice:n?a(t.price):0,listPrice:n?!i&&a(t.listPrice):0,installments:n?r.numberOfInstallments:0,installmentsInsterestRate:n?r.interestRate:null,installmentsValue:n?a(r.value):0,bestPriceFormatted:o(n?a(t.price):0),listPriceFormatted:n?!i&&o(a(t.listPrice)):!i&&o(0),installmentsValueFormatted:o(n?a(r.value):0)}},sortProductSearch:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!s.isString(r))throw new TypeError("'dimension' param must be a String value");if(!e.hasOwnProperty("items"))throw new Error("Product data must be an response from Vtex API '/api/catalog_system/pub/products/search/{productId}' endpoint");return r=this._checkCamelize(e)?s.camelize(r):r,s.objectArraySortByValue(e.items,t,r,n)},sortProductVariations:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!s.isString(r))throw new TypeError("'dimension' param must be a String value");if(!e.hasOwnProperty("skus"))throw new Error("Product data must be an response from Vtex API '/api/catalog_system/pub/products/variations/{productId}' endpoint or global variable 'skuJson' on product page");return t=s.isArray(t)&&t.length?t:e.dimensionsMap[r],s.objectArraySortByValue(e.skus,t,"dimensions."+r,n)},replaceBreakLines:function(e){return e=e.replace?e.replace(/(?:\r\n|\r|\n)/g,"<br />"):""},checkLogin:function(){return $.Deferred(function(t){return $.ajax({type:"get",url:"/no-cache/profileSystem/getProfile"}).done(function(e){s.isUndefined(e.IsUserDefined)||!e.IsUserDefined?t.reject(e):t.resolve(e)}).fail(function(e){return t.reject(e)})}).promise()},openPopupLogin:function(e,t){e=!!s.isBoolean(e)&&e,t=s.isString(t)?t:"/",t=e?window.location.href:t,vtexid.start({returnUrl:t})},addToCart:function(e,r,n){if(!s.isArray(e))throw new TypeError("Items must be an Array of Object(s) with item(s) to add, e.g. var items = [{id: 123, quantity: 1, seller: '1'}, {id: 321, quantity: 2, seller: '1'}]");if(s.length(e)<1)throw new Error("Items can't be an empty Array.");return r=s.isUndefined(r)?null:r,n=s.isUndefined?1:n,$.Deferred(function(t){return vtexjs.checkout.getOrderForm().done(function(){return vtexjs.checkout.addToCart(e,r,n).done(function(e){return t.resolve(e)}).fail(function(e){return t.reject()})}).fail(function(e){return t.reject(e)})}).promise()},clearCart:function(){return $.Deferred(function(t){vtexjs.checkout.getOrderForm().done(function(e){return e.items.length?vtexjs.checkout.removeAllItems(e.items).done(function(e){return t.resolve(e)}):t.resolve(e)}).fail(function(e){return t.reject(e)})}).promise()},_checkCamelize:function(e){return!(!e.hasOwnProperty("isCamelized")||!e.isCamelized)}};"object"!==("undefined"==typeof window?"undefined":r(window))&&(global.window=global,global.window.navigator={}),"rivets"in window&&(rivets.formatters.formatPrice=function(e){return o.formatPrice(e)},rivets.formatters.getResizedImage=function(e,t,r){return o.getResizedImage(e,t,r)},rivets.formatters.getResizeImageByRatio=function(e,t,r,n){return o.getResizeImageByRatio(e,t,r,n)},rivets.formatters.replaceBreakLines=function(e){return o.replaceBreakLines(e)},rivets.formatters.productImgSize=rivets.formatters.getResizedImage);var u=function(){function e(){n(this,e)}return i(e,[{key:"formatPrice",value:function(e,t,r,n,i){return o.formatPrice(e,t,r,n,i)}},{key:"unformatPrice",value:function(e,t,r){return o.unformatPrice(e,t,r)}},{key:"fixProductSearchPrice",value:function(e){return o.fixProductSearchPrice(e)}},{key:"getFirstAvailableSku",value:function(e){return o.getFirstAvailableSku(e)}},{key:"getOriginalImage",value:function(e){return o.getOriginalImage(e)}},{key:"getResizedImage",value:function(e,t,r){return o.getResizedImage(e,t,r)}},{key:"getResizeImageByRatio",value:function(e,t,r,n){return o.getResizeImageByRatio(e,t,r,n)}},{key:"getServerTime",value:function(e){return o.getServerTime(e)}},{key:"getCategories",value:function(e,t){return o.getCategories(e,t)}},{key:"getProductSpec",value:function(e,t,r){return o.getProductSpec(e,t,r)}},{key:"getProductSellerInfo",value:function(e,t){return o.getProductSellerInfo(e,t)}},{key:"getProductInstallments",value:function(e,t){return o.getProductInstallments(e,t)}},{key:"getProductBankInvoice",value:function(e,t){return o.getProductBankInvoice(e,t)}},{key:"getProductPriceInfo",value:function(e){return o.getProductPriceInfo(e)}},{key:"sortProductSearch",value:function(e,t,r,n){return o.sortProductSearch(e,t,r,n)}},{key:"sortProductVariations",value:function(e,t,r,n){return o.sortProductVariations(e,t,r,n)}},{key:"replaceBreakLines",value:function(e){return o.replaceBreakLines(e)}},{key:"checkLogin",value:function(){return o.checkLogin()}},{key:"openPopupLogin",value:function(e){return o.openPopupLogin(e)}},{key:"addToCart",value:function(e,t,r){return o.addToCart(e,t,r)}},{key:"clearCart",value:function(){return o.clearCart()}}]),e}();return function(){function e(){n(this,e),this.version="1.11.0",this.name="@VtexUtils",this.vtexHelpers=new u,this.globalHelpers=t.globalHelpers,this.locationHelpers=t.locationHelpers,this.storage=t.storage}return i(e,[{key:"setRivetsUtilify",value:function(e){this.rivetsUtilify=new e(t)}}]),e}()});