/* store.js - Copyright (c) 2010-2017 Marcus Westin */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.store=t()}}(function(){return function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n||t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";var r=t("../src/store-engine"),i=[t("../storages/localStorage"),t("../storages/sessionStorage")],o=[t("../plugins/observe")];e.exports=r.createStore(i,o)},{"../plugins/observe":3,"../src/store-engine":4,"../storages/localStorage":6,"../storages/sessionStorage":7}],2:[function(t,e,n){"use strict";function r(){function t(t,e,n){return c.on(e,s(this,n))}function e(t,e){c.off(e)}function n(t,e,n){c.once(e,s(this,n))}function r(t,e,n){var r=this.get(e);t(),c.fire(e,n,r)}function o(t,e){var n=this.get(e);t(),c.fire(e,undefined,n)}function a(t){var e={};this.each(function(t,n){e[n]=t}),t(),u(e,function(t,e){c.fire(e,undefined,t)})}var c=i();return{watch:t,unwatch:e,once:n,set:r,remove:o,clearAll:a}}function i(){return a(f,{_id:0,_subSignals:{},_subCallbacks:{}})}var o=t("../src/util"),s=o.bind,u=o.each,a=o.create,c=o.slice;e.exports=r;var f={_id:null,_subCallbacks:null,_subSignals:null,on:function(t,e){return this._subCallbacks[t]||(this._subCallbacks[t]={}),this._id+=1,this._subCallbacks[t][this._id]=e,this._subSignals[this._id]=t,this._id},off:function(t){var e=this._subSignals[t];delete this._subCallbacks[e][t],delete this._subSignals[t]},once:function(t,e){var n=this.on(t,s(this,function(){e.apply(this,arguments),this.off(n)}))},fire:function(t){var e=c(arguments,1);u(this._subCallbacks[t],function(t){t.apply(this,e)})}}},{"../src/util":5}],3:[function(t,e,n){"use strict";function r(){function t(t,e,n){var r=this.watch(e,n);return n(this.get(e)),r}function e(t,e){this.unwatch(e)}return{observe:t,unobserve:e}}var i=t("./events");e.exports=[i,r]},{"./events":2}],4:[function(t,e,n){"use strict";function r(){var t="undefined"==typeof console?null:console;if(t){(t.warn?t.warn:t.log).apply(t,arguments)}}function i(t,e,n){n||(n=""),t&&!l(t)&&(t=[t]),e&&!l(e)&&(e=[e]);var i=n?"__storejs_"+n+"_":"",o=n?new RegExp("^"+i):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var g={_namespacePrefix:i,_namespaceRegexp:o,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var n=t.read(e)===e;return t.remove(e),n}catch(r){return!1}},_assignPluginFnProp:function(t,e){var n=this[e];this[e]=function(){function e(){if(n)return a(arguments,function(t,e){r[e]=t}),n.apply(i,r)}var r=s(arguments,0),i=this,o=[e].concat(r);return t.apply(i,o)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var n="";try{n=JSON.parse(t)}catch(r){n=t}return n!==undefined?n:e},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(t){var e=this;if(l(t))return void a(t,function(t){e._addPlugin(t)});if(!u(this.plugins,function(e){return t===e})){if(this.plugins.push(t),!p(t))throw new Error("Plugins must be function values that return objects");var n=t.call(this);if(!h(n))throw new Error("Plugins must return an object of function properties");a(n,function(n,r){if(!p(n))throw new Error("Bad plugin property: "+r+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(n,r)})}},addStorage:function(t){r("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},v=f(g,d,{plugins:[]});return v.raw={},a(v,function(t,e){p(t)&&(v.raw[e]=c(v,t))}),a(t,function(t){v._addStorage(t)}),a(e,function(t){v._addPlugin(t)}),v}var o=t("./util"),s=o.slice,u=o.pluck,a=o.each,c=o.bind,f=o.create,l=o.isList,p=o.isFunction,h=o.isObject;e.exports={createStore:i};var d={version:"2.0.12",enabled:!1,get:function(t,e){var n=this.storage.read(this._namespacePrefix+t);return this._deserialize(n,e)},set:function(t,e){return e===undefined?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var e=this;this.storage.each(function(n,r){t.call(e,e._deserialize(n),(r||"").replace(e._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return i.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return i(this.storage,this.plugins,t)}}},{"./util":5}],5:[function(t,e,n){(function(t){"use strict";function n(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}}function r(t,e){return Array.prototype.slice.call(t,e||0)}function i(t,e){s(t,function(t,n){return e(t,n),!1})}function o(t,e){var n=u(t)?[]:{};return s(t,function(t,r){return n[r]=e(t,r),!1}),n}function s(t,e){if(u(t)){for(var n=0;n<t.length;n++)if(e(t[n],n))return t[n]}else for(var r in t)if(t.hasOwnProperty(r)&&e(t[r],r))return t[r]}function u(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}function a(t){return t&&"[object Function]"==={}.toString.call(t)}function c(t){return t&&"[object Object]"==={}.toString.call(t)}var f=function(){return Object.assign?Object.assign:function(t,e,n,r){for(var o=1;o<arguments.length;o++)i(Object(arguments[o]),function(e,n){t[n]=e});return t}}(),l=function(){if(Object.create)return function(t,e,n,i){var o=r(arguments,1);return f.apply(this,[Object.create(t)].concat(o))};var t=function(){};return function(e,n,i,o){var s=r(arguments,1);return t.prototype=e,f.apply(this,[new t].concat(s))}}(),p=function(){return String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}(),h="undefined"!=typeof window?window:t;e.exports={assign:f,create:l,trim:p,bind:n,slice:r,each:i,map:o,pluck:s,isList:u,isFunction:a,isObject:c,Global:h}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(t,e,n){"use strict";function r(){return f.localStorage}function i(t){return r().getItem(t)}function o(t,e){return r().setItem(t,e)}function s(t){for(var e=r().length-1;e>=0;e--){var n=r().key(e);t(i(n),n)}}function u(t){return r().removeItem(t)}function a(){return r().clear()}var c=t("../src/util"),f=c.Global;e.exports={name:"localStorage",read:i,write:o,each:s,remove:u,clearAll:a}},{"../src/util":5}],7:[function(t,e,n){"use strict";function r(){return f.sessionStorage}function i(t){return r().getItem(t)}function o(t,e){return r().setItem(t,e)}function s(t){for(var e=r().length-1;e>=0;e--){var n=r().key(e);t(i(n),n)}}function u(t){return r().removeItem(t)}function a(){return r().clear()}var c=t("../src/util"),f=c.Global;e.exports={name:"sessionStorage",read:i,write:o,each:s,remove:u,clearAll:a}},{"../src/util":5}]},{},[1])(1)});
